---
import {
  Linkedin,
  Mail,
  Globe,
  Palette,
  Link as LinkIcon,
} from 'lucide-astro';
import SimpleIcon from './SimpleIcon.astro';
import type { IconSource } from '@noko/shared/social-presets';

interface Props {
  name: string;
  size?: number;
  source?: IconSource;
}

const { name, size = 20, source = 'lucide' } = Astro.props;

// Simple Icons brand names
const simpleIconNames = ['instagram', 'youtube', 'x', 'facebook', 'github', 'tiktok', 'whatsapp'];

// Lucide icons for non-brand icons
const lucideIcons: Record<string, any> = {
  linkedin: Linkedin,
  mail: Mail,
  globe: Globe,
  palette: Palette,
  link: LinkIcon,
};

const isSimpleIcon = source === 'simple-icons' && simpleIconNames.includes(name?.toLowerCase());
const LucideIcon = lucideIcons[name?.toLowerCase()] || LinkIcon;

type SimpleIconName = 'instagram' | 'youtube' | 'x' | 'facebook' | 'github' | 'tiktok' | 'whatsapp';
---

{isSimpleIcon ? (
  <SimpleIcon name={name as SimpleIconName} size={size} />
) : (
  <LucideIcon size={size} />
)}
